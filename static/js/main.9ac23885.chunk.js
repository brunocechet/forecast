(this.webpackJsonpforecast=this.webpackJsonpforecast||[]).push([[0],{138:function(e,t,a){e.exports=a(302)},217:function(e,t){},302:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),o=a.n(c),i=a(50),l=a(13),s=a(328),m=a(329),u=a(321),p=a(327),d=a(323),E=a(324),h=a(330),_=a(322),f=a(331),v=a(125),g=a.n(v),b=a(46),P=a(334);var A=function(){var e=Object(P.a)("forecast-history",[]),t=Object(b.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(a),o=Object(b.a)(c,2),i=o[0],l=o[1];Object(n.useEffect)((function(){r(i)}),[r,i]);var s=Object(n.useCallback)((function(e){l((function(t){var a=t.filter((function(t){return t!==e}));return a.unshift(e),a.splice(5),a}))}),[l]),m=Object(n.useCallback)((function(e){l((function(t){return t.filter((function(t){return t!==e}))}))}),[l]);return{items:i,add:s,remove:m}},O=a(29),y=a.n(O),C=a(130),S=a(42),w=a(128);function T(){var e,t,a,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=r.coord,o=r.main,i=r.name,l=r.sys,s=r.weather,m=r.dt,u=null!==o&&void 0!==o?o:{},p=u.feels_like,d=u.humidity,E=u.pressure,h=u.temp,_=u.temp_max,f=u.temp_min,v=null!==(e=null!==(t=null===s||void 0===s||null===(a=s.pop)||void 0===a?void 0:a.call(s))&&void 0!==t?t:s)&&void 0!==e?e:{},g=v.description,b=v.icon,P=v.main,A={city:i,country:null!==(n=null===l||void 0===l?void 0:l.country)&&void 0!==n?n:""},O={actual:"".concat(parseInt(h,10),"\xba"),feelsLike:"".concat(parseInt(p,10),"\xba"),max:"".concat(parseInt(_,10),"\xba"),min:"".concat(parseInt(f,10),"\xba")},y={description:g,icon:b,imageUrl:b?"http://openweathermap.org/img/wn/".concat(b,"@2x.png"):"",title:P},C=m&&new Date(1e3*m);return{coord:c,localTime:C&&C.toLocaleTimeString(),localDate:C&&C.toLocaleDateString(),humidity:"".concat(d,"%"),location:A,pressure:"".concat(E," hPa"),temperature:O,weather:y}}var I=Object({NODE_ENV:"production",PUBLIC_URL:"/forecast",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_FLICKR_API_KEY:"6304d4f1a6953e9e9cc988a7977b1605",REACT_APP_FLICK_API_URL:"https://www.flickr.com/services/rest",REACT_APP_OWM_API_KEY:"aa3551b5b748927bc745b3e50946a1b7",REACT_APP_OWM_API_LANG:"en",REACT_APP_OWM_API_MODE:"JSON",REACT_APP_OWM_API_UNITS:"metric",REACT_APP_OWM_API_URL:"https://api.openweathermap.org/data/2.5/weather"}),j=I.REACT_APP_OWM_API_KEY,x=I.REACT_APP_OWM_API_URL,R=I.REACT_APP_OWM_API_MODE,k=I.REACT_APP_OWM_API_UNITS,L=I.REACT_APP_OWM_API_LANG,M=function(){var e=Object(S.a)(y.a.mark((function e(t,a){var n,r,c,o,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new URLSearchParams).append("appid",j),n.append("lang",L),n.append("mode",R),n.append("q",a),n.append("units",k),e.next=8,fetch("".concat(x,"?").concat(n.toString())).then((function(e){return e.json()}));case 8:if(r=e.sent,c=r.cod,o=r.message,i=Object(C.a)(r,["cod","message"]),!(c&&c>=400)){e.next=15;break}return e.abrupt("return",{error:o,errorCode:parseInt(c,10)});case 15:return e.abrupt("return",T(i));case 16:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();var N=a(333);function W(e){return Math.floor(Math.random()*Math.floor(e))}var D=Object({NODE_ENV:"production",PUBLIC_URL:"/forecast",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_FLICKR_API_KEY:"6304d4f1a6953e9e9cc988a7977b1605",REACT_APP_FLICK_API_URL:"https://www.flickr.com/services/rest",REACT_APP_OWM_API_KEY:"aa3551b5b748927bc745b3e50946a1b7",REACT_APP_OWM_API_LANG:"en",REACT_APP_OWM_API_MODE:"JSON",REACT_APP_OWM_API_UNITS:"metric",REACT_APP_OWM_API_URL:"https://api.openweathermap.org/data/2.5/weather"}),U=D.REACT_APP_FLICK_API_URL,B=D.REACT_APP_FLICKR_API_KEY;function K(){return(K=Object(S.a)(y.a.mark((function e(t,a){var n,r,c,o,i,l,s,m,u,p,d;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new URLSearchParams).append("api_key",B),r.append("content_type",1),r.append("format","json"),r.append("is_getty",!0),r.append("lat",t),r.append("lon",a),r.append("media","photos"),r.append("method","flickr.photos.search"),r.append("nojsoncallback",1),r.append("per_page",5),r.append("sort","interestingness-desc"),e.next=14,fetch("".concat(U,"?").concat(r.toString())).then((function(e){return e.json()}));case 14:return c=e.sent,o=c.photos.photo,l=null!==(n=(i=null!==o&&void 0!==o?o:[])[W(i.length)])&&void 0!==n?n:{},s=l.server,m=l.id,u=l.secret,p=l.title,d="https://live.staticflickr.com/".concat(s,"/").concat(m,"_").concat(u,".jpg"),e.abrupt("return",{url:d,title:p});case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F=function(e,t){return K.apply(this,arguments)},z=function(e){return{largeSize:{width:e.spacing(40),height:e.spacing(40)}}},J=Object(u.a)(z);function H(e){var t=e.coordinates,a=Object(n.useState)(""),c=Object(b.a)(a,2),o=c[0],i=c[1],l=Object(n.useState)(""),s=Object(b.a)(l,2),m=s[0],u=s[1],p=J(),d=Object(n.useCallback)(function(){var e=Object(S.a)(y.a.mark((function e(t,a){var n,r,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t,a);case 2:n=e.sent,r=n.url,c=n.title,i(r),u(c);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[i,u]);return Object(n.useEffect)((function(){var e=t.lat,a=t.lon;e&&a&&d(e,a)}),[t,d]),o&&m?r.a.createElement(h.a,{alt:m,boxShadow:3,className:p.largeSize,component:N.a,src:o,title:m}):null}H.defaultProps={coordinates:{}};var Y=H,Z=a(79),G=a.n(Z),V=function(e){return{largeSize:{width:e.spacing(40),height:e.spacing(40),borderRadius:"50%"}}};G.a.accessToken="pk.eyJ1IjoiYnJ1bm9jZWNoZXQiLCJhIjoiY2tmeXRwMHFzMThvNjJzb2tzaWFoNTFoaCJ9.5ipdSZVNwScZXW44gmmdnw";var X=Object(u.a)(V);function Q(e){var t=e.coordinates,a=X();return Object(n.useEffect)((function(){new G.a.Map({container:"mapbox-container",style:"mapbox://styles/mapbox/streets-v11",center:[t.lon,t.lat],zoom:10})}),[t]),r.a.createElement(h.a,{boxShadow:3,className:a.largeSize,id:"mapbox-container"})}Q.defaultProps={coordinates:{}};var q=Q;var $=function(){return r.a.createElement("span",null,"City not found!")};function ee(e){var t=e.temperature;return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{"aria-label":"actual temperature in celsius degrees",arrow:!0,placement:"right",title:"Actual temperature in Celsius degrees"},r.a.createElement(_.a,{variant:"h3",component:"p"},t.actual)),r.a.createElement(f.a,{"aria-label":"min and max temperature in celsius degrees",arrow:!0,placement:"right",title:"Min and max temperature in Celsius degrees"},r.a.createElement(_.a,{variant:"h6",component:"p"},t.min," - ",t.max)))}ee.defaultProps={temperature:{}};var te=ee;var ae=function(e){var t=e.localTime,a=e.localDate;return r.a.createElement(h.a,{textAlign:"right"},r.a.createElement(f.a,{title:"Local Time","aria-label":"local time",arrow:!0,placement:"right"},r.a.createElement(_.a,{variant:"h6",component:"p"},t)),r.a.createElement(f.a,{title:"Local Date","aria-label":"local date",arrow:!0,placement:"right"},r.a.createElement(_.a,{variant:"h6",component:"p",color:"secondary"},a)))};var ne=function(){var e,t=Object(l.g)().name,a=Object(l.f)(),c=A().add,o=(e=t,Object(w.a)(["city",e],M,{retry:3})),i=o.isLoading,s=o.data;if(Object(n.useEffect)((function(){t&&c(t)}),[c,t]),i)return"Loading...";var m=s.coord,u=s.humidity,p=s.location,v=s.pressure,b=s.temperature,P=s.weather,O=s.error,y=s.errorCode,C=s.localTime,S=s.localDate;return O&&404===y?r.a.createElement($,null):r.a.createElement(d.a,{container:!0,spacing:6},r.a.createElement(d.a,{item:!0,xs:6},r.a.createElement(E.a,{color:"secondary",onClick:function(){a.push("/")},startIcon:r.a.createElement(g.a,null),variant:"contained"},"Back")),r.a.createElement(d.a,{item:!0,xs:6},r.a.createElement(ae,{localTime:C,localDate:S})),r.a.createElement(d.a,{item:!0,xs:4},r.a.createElement(h.a,{textAlign:"right"},r.a.createElement("img",{src:P.imageUrl,alt:P.description,title:P.description}),r.a.createElement(_.a,{variant:"h3",component:"h1"},"".concat(p.city,", ").concat(p.country)),r.a.createElement(f.a,{title:P.description,"aria-label":P.description,arrow:!0,placement:"right"},r.a.createElement(_.a,{variant:"h4",component:"h2"},"It's ".concat(P.title))),r.a.createElement(te,{temperature:b}))),r.a.createElement(d.a,{item:!0,xs:4},r.a.createElement(Y,{coordinates:m})),r.a.createElement(d.a,{item:!0,xs:4},r.a.createElement(q,{coordinates:m})),r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(h.a,{textAlign:"right"},r.a.createElement(_.a,{variant:"h6",component:"p"},"Pressure: ".concat(v)),r.a.createElement(_.a,{variant:"h6",component:"p"},"Humidity: ".concat(u)))))},re=a(326),ce=a(325),oe=a(332),ie=a(126),le=a.n(ie),se=Object(u.a)({iconButton:{padding:10},input:{padding:10}});var me=function(e){var t=e.name,a=se();return r.a.createElement(oe.a,{className:a.input,fullWidth:!0,inputProps:{"aria-label":"search by city name"},name:t,placeholder:"Search By City Name",type:"search",endAdornment:r.a.createElement(ce.a,{type:"submit",className:a.iconButton,"aria-label":"search"},r.a.createElement(le.a,null))})},ue=Object(u.a)({root:{display:"block",margin:"20px auto",padding:"2px 4px",width:"400px"}});var pe=function(){var e=ue(),t=Object(l.f)();return r.a.createElement(re.a,{component:"form",onSubmit:function(e){e.preventDefault();var a=e.target["city-name"].value;a&&t.push("/city/".concat(a))},elevation:1,className:e.root},r.a.createElement(me,{name:"city-name"}))},de=a(127),Ee=a.n(de),he=function(e){return{buttonsContainer:{marginTop:e.spacing(3),textAlign:"center"},historyButton:{margin:e.spacing(1),width:e.spacing(16),height:e.spacing(16)},deleteButton:{position:"absolute",marginLeft:"-52px",marginTop:"10px"}}},_e=Object(u.a)(he);var fe=function(){var e=A(),t=e.items,a=e.remove,n=_e(),c=Object(l.f)();return t.length?r.a.createElement(d.a,{container:!0},r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(_.a,{align:"center",variant:"h4"},"Search History")),r.a.createElement(d.a,{item:!0,xs:12,className:n.buttonsContainer},t.map((function(e){return r.a.createElement(r.a.Fragment,{key:e},r.a.createElement(E.a,{variant:"outlined",color:"primary","aria-label":"search for ".concat(e),title:"Search for ".concat(e),onClick:function(){var t;(t=e)&&c.push("/city/".concat(t))},className:n.historyButton},e),r.a.createElement(ce.a,{"aria-label":"delete",className:n.deleteButton,onClick:function(){a(e)}},r.a.createElement(Ee.a,{fontSize:"small"})))})))):null};var ve=function(){return r.a.createElement(d.a,{container:!0,alignItems:"center"},r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(pe,null)),r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(fe,null)))},ge=a(129),be=Object(ge.a)({typography:{fontFamily:["Quicksand","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")},palette:{type:"dark",primary:{main:"#FFF9F9"},secondary:{main:"#758895"},background:{default:"#1B2931",paper:"#1B2931"}}}),Pe=Object(u.a)({container:{height:"100vh",background:"linear-gradient(47.75deg, #567485 -24.05%, #4D5B64 -24.05%, #424B51 -24.05%, #1B2931 62.27%), #1B2931"}});var Ae=function(){var e=Pe();return r.a.createElement(r.a.StrictMode,null,r.a.createElement(p.a,{theme:be},r.a.createElement(s.a,null),r.a.createElement(m.a,{className:e.container},r.a.createElement(i.a,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/city/:name"},r.a.createElement(ne,null)),r.a.createElement(l.a,{path:"/"},r.a.createElement(ve,null)))))))};a(149),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[138,1,2]]]);
//# sourceMappingURL=main.9ac23885.chunk.js.map